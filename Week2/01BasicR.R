## ----setup, include=FALSE----------------------------------------------------------------------------------------------
knitr::opts_chunk$set(echo = TRUE, fig.align = "center")
library(ggplot2)
library(crayon)
# Need to do library(ggplot2), otherwise, variable mpg is undefined.
# Need to do library(crayon), otherwise, function chr() is undefined.
# Both libraries (ggplot2 and crayon) define the %+% operator also.


## ----size="small"------------------------------------------------------------------------------------------------------
a <- data.frame(row.names = "mpg" %+% chr(1:nrow(mpg)), 
                manufacturer = mpg$manufacturer, 
                model = mpg$model, displ = mpg$displ, 
                cyl = mpg$cyl)
head(a)


## ----collapse=T, size="small"------------------------------------------------------------------------------------------
a[3,3]

a["mpg3", "displ"]


## ----size="small"------------------------------------------------------------------------------------------------------
a["mpg3",]


## ----------------------------------------------------------------------------------------------------------------------
a[c(1:2),]


## ----------------------------------------------------------------------------------------------------------------------
a[-c(2:nrow(mpg)), ]


## ----------------------------------------------------------------------------------------------------------------------
a[c(T,F,T),]


## ----------------------------------------------------------------------------------------------------------------------
a$manufacturer


## ----------------------------------------------------------------------------------------------------------------------
a$manufacturer == "audi"


## ----------------------------------------------------------------------------------------------------------------------
a[a$manufacturer == "audi" & a$model == "a4 quattro",]


## ----------------------------------------------------------------------------------------------------------------------
add <- function(a,b) { 
	result <- a+b
  return(result) 
}



## ----------------------------------------------------------------------------------------------------------------------
x <- rnorm(100)
y <- 2*x + rnorm(100)
lm(formula=y~x)


## ----collapse=T--------------------------------------------------------------------------------------------------------
A <- letters[1:3]  # a vector containing ("a", "b", "c")
B <- letters[1:5]  # a vector containing ("a", "b", "c", "d", "e")
C <- letters[2:6]  # a vector containing ("b", "c", "d", "e", "f")
print(A %in% B)
print(A %in% C)


## ----collapse=T--------------------------------------------------------------------------------------------------------
print(all(A %in% B))   # is A a subset of B?
print(all(A %in% C))   # is A a subset of C?


## ----size="small", collapse=T------------------------------------------------------------------------------------------
LETTERS

which( LETTERS == "R" )


## ----------------------------------------------------------------------------------------------------------------------
a <- letters[1:5]
b <- table(a, sample(a))
b



## ----------------------------------------------------------------------------------------------------------------------
apply(b, 1, mean)


## ----eval=F------------------------------------------------------------------------------------------------------------
## if (logical_expression) {
##   statements
## } else {
##   alternative_statements
## }


## ----------------------------------------------------------------------------------------------------------------------
x <- -4
if (x >= 0) {
  print(sqrt(x))
} else {
  print(NA)
}
  


## ----------------------------------------------------------------------------------------------------------------------
x <- c(4:-4)
sqrt(ifelse(x >= 0, x, NA))



## ----collapse=T--------------------------------------------------------------------------------------------------------

for (i in 1:5) {
   print(i*i)
}



## ----collapse=T--------------------------------------------------------------------------------------------------------
i <- 1
while (i <= 5) {
   print(i*i)
   i <- i + sqrt(i)
}



## ----collapse=T--------------------------------------------------------------------------------------------------------
i <- 1
repeat {
  if (i > 5) break
  print(i*i)
  i <- i + sqrt(i)
}


## ----collapse=T--------------------------------------------------------------------------------------------------------
# Print the square of each odd number in 1..10
for (i in 1:10) {
  if (i %% 2 == 0)
      next
  print(i*i)
}

